<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHST New Year Countdown</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { --neon-blue: #00f2fe; --neon-pink: #ff00c1; }
        body, html { margin: 0; padding: 0; height: 100%; background: #000; font-family: 'Inter', sans-serif; color: #fff; overflow: hidden; }
        #video-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; pointer-events: none; overflow: hidden; }
        #player { position: absolute; top: 50%; left: 50%; width: 100vw; height: 100vh; transform: translate(-50%, -50%); filter: brightness(0.5); }
        @media (min-aspect-ratio: 16/9) { #player { height: 56.25vw; } }
        @media (max-aspect-ratio: 16/9) { #player { width: 177.78vh; } }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.3); z-index: -1; }
        .content { position: relative; z-index: 2; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        #start-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #020205; z-index: 10; display: flex; justify-content: center; align-items: center; }
        .start-btn { padding: 18px 36px; font-size: 1.1rem; border: 1px solid var(--neon-blue); color: var(--neon-blue); background: none; border-radius: 5px; cursor: pointer; letter-spacing: 4px; }
        .status-pill { padding: 6px 16px; background: rgba(0, 0, 0, 0.85); border: 1px solid var(--neon-blue); border-radius: 20px; font-size: 0.65rem; color: var(--neon-blue); margin-bottom: 25px; text-transform: uppercase; letter-spacing: 2px; }
        .timer-grid { display: flex; gap: 20px; }
        .box { background: rgba(0, 0, 0, 0.75); backdrop-filter: blur(15px); padding: 35px 25px; border-radius: 20px; min-width: 110px; border: 1px solid rgba(255,255,255,0.1); }
        .num { display: block; font-size: 4.5rem; font-weight: 700; color: #fff; text-shadow: 0 0 20px rgba(0, 242, 254, 0.4); line-height: 1; }
        .lab { font-size: 0.75rem; color: var(--neon-pink); letter-spacing: 3px; font-weight: 700; margin-top: 15px; display: block; }
        .vol-container { margin-top: 50px; display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.8); padding: 12px 25px; border-radius: 30px; }
    </style>
</head>
<body>
    <div id="start-screen"><button class="start-btn" onclick="initExperience()">START EXPERIENCE</button></div>
    <div id="video-wrapper"><div id="player"></div></div>
    <div class="overlay"></div>
    <div class="content">
        <div class="status-pill" id="sync-status">Awaiting PHST Sync...</div>
        <h1 style="letter-spacing: 8px; font-weight: 300;">NEW YEAR 2026</h1>
        <div class="timer-grid">
            <div class="box"><span class="num" id="days">00</span><span class="lab">DAYS</span></div>
            <div class="box"><span class="num" id="hours">00</span><span class="lab">HOURS</span></div>
            <div class="box"><span class="num" id="minutes">00</span><span class="lab">MINUTES</span></div>
            <div class="box"><span class="num" id="seconds">00</span><span class="lab">SECONDS</span></div>
        </div>
        <div class="vol-container">üîà <input type="range" id="vol" min="0" max="1" step="0.01" value="0.5"> üîä</div>
    </div>
    <audio id="bg-audio" loop><source src="lofimusic.mp3" type="audio/mpeg"></audio>

    <script>
        let timeOffset = 0, ytPlayer;
        const audio = document.getElementById('bg-audio');
        document.getElementById('vol').oninput = (e) => { audio.volume = e.target.value; };

        var tag = document.createElement('script'); tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        function onYouTubeIframeAPIReady() {
            ytPlayer = new YT.Player('player', {
                videoId: 'GL-BM98JbOA',
                playerVars: { 'autoplay': 1, 'controls': 0, 'mute': 1, 'loop': 1, 'playlist': 'GL-BM98JbOA' }
            });
        }

        async function initExperience() {
            document.getElementById('start-screen').style.display = 'none';
            audio.play();
            try {
                const resp = await fetch('https://worldtimeapi.org/api/timezone/Asia/Manila');
                const data = await resp.json();
                timeOffset = new Date(data.datetime).getTime() - Date.now();
                document.getElementById('sync-status').innerText = "‚óè PHST SYNCED";
                document.getElementById('sync-status').style.color = "#00ff88";
            } catch (e) { document.getElementById('sync-status').innerText = "SYSTEM CLOCK"; }
            setInterval(update, 1000);
        }

        function update() {
            const now = new Date(Date.now() + timeOffset);
            const diff = new Date("January 1, 2026 00:00:00") - now;
            if (diff <= 0) { confetti(); return; }
            document.getElementById('days').innerText = String(Math.floor(diff / 86400000)).padStart(2, '0');
            document.getElementById('hours').innerText = String(Math.floor((diff % 86400000) / 3600000)).padStart(2, '0');
            document.getElementById('minutes').innerText = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
            document.getElementById('seconds').innerText = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
        }
    </script>
</body>
</html>